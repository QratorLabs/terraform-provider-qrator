---
page_title: "qrator_domain_sni Resource - terraform-provider-qrator"
subcategory: ""
description: |-
  Manages SNI configuration for a domain in Qrator.
---

# qrator_domain_sni (Resource)

Manages SNI configuration for a domain in Qrator. Provides hostname-to-certificate mappings.

Updates are incremental: the provider computes the diff between desired and current state, then uses `sni_link_add` and `sni_link_remove` to apply changes individually.

~> **Note:** Deleting this resource clears all SNI links via `sni_clear`.

## Example Usage

```terraform
resource "qrator_domain_sni" "example" {
  domain_id = 12345

  links = [
    {
      # Default certificate (host = null) â€” required when links is non-empty
      certificate = qrator_client_certificate.default.id
    },
    {
      host        = "example.com"
      certificate = qrator_client_certificate.cert.id
    },
    {
      host        = "www.example.com"
      certificate = qrator_client_certificate.cert.id
    }
  ]
}
```

## Import

SNI configuration can be imported using the domain ID:

```shell
terraform import qrator_domain_sni.example 12345
```

After import, run `terraform plan` to see the current state read from the API.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `domain_id` (Number) The domain ID. Changing this forces resource replacement.
- `links` (List of Object) SNI links. List of hostname-to-certificate mappings.

### Nested Schema for `links`

Required:

- `certificate` (Number) The certificate ID from storage.

Optional:

- `host` (String) The hostname. Omit (null) for the default domain certificate.

Read-Only:

- `link_id` (Number) SNI link ID assigned by the API.

## Validation Rules

- Non-empty links list must include a default entry (with `host` omitted/null).
- No duplicate hostnames.
- Maximum 1000 links.
- Only port 443 is supported (hardcoded, not exposed in schema).
