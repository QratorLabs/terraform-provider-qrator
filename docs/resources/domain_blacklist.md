---
page_title: "qrator_domain_blacklist Resource - terraform-provider-qrator"
subcategory: ""
description: |-
  Manages the blacklist for a domain in Qrator.
---

# qrator_domain_blacklist (Resource)

Manages the blacklist for a domain in Qrator. The blacklist contains IP addresses that are always blocked from accessing the domain.

Updates are incremental: the provider reads the current list from the API, computes the diff with the desired state, then uses `blacklist_remove` and `blacklist_append` to apply only the necessary changes.

~> **Note:** Deleting this resource flushes the entire blacklist via `blacklist_flush`.

## Example Usage

```terraform
resource "qrator_domain_blacklist" "example" {
  domain_id = 12345

  entries = [
    {
      ip      = "203.0.113.1"
      comment = "Known attacker"
    },
    {
      ip      = "198.51.100.50"
      ttl     = 86400
      comment = "Temporary block (24h)"
    }
  ]
}
```

## Import

Blacklist can be imported using the domain ID:

```shell
terraform import qrator_domain_blacklist.example 12345
```

After import, run `terraform plan` to see the current state read from the API.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `domain_id` (Number) The domain ID. Changing this forces resource replacement.
- `entries` (List of Object) IP entries in the blacklist.

### Nested Schema for `entries`

Required:

- `ip` (String) IP address (e.g. `203.0.113.1`).

Optional:

- `ttl` (Number) Time to live in seconds. `0` means permanent. Defaults to `0`.
- `comment` (String) Optional comment. Defaults to `""`.

## Validation Rules

- No duplicate IP addresses.
