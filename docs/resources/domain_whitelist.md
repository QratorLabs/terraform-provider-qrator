---
page_title: "qrator_domain_whitelist Resource - terraform-provider-qrator"
subcategory: ""
description: |-
  Manages the whitelist for a domain in Qrator.
---

# qrator_domain_whitelist (Resource)

Manages the whitelist for a domain in Qrator. The whitelist contains IP addresses that are always allowed to access the domain.

Updates are incremental: the provider reads the current list from the API, computes the diff with the desired state, then uses `whitelist_remove` and `whitelist_append` to apply only the necessary changes.

~> **Note:** Deleting this resource flushes the entire whitelist via `whitelist_flush`.

## Example Usage

### Single IP

```terraform
resource "qrator_domain_whitelist" "example" {
  domain_id = 12345

  entries = [
    {
      ip      = "203.0.113.10"
      comment = "Office"
    }
  ]
}
```

### Multiple IPs with TTL

```terraform
resource "qrator_domain_whitelist" "monitoring" {
  domain_id = 12345

  entries = [
    {
      ip      = "198.51.100.1"
      comment = "Monitoring server"
    },
    {
      ip      = "198.51.100.2"
      ttl     = 3600
      comment = "Temporary access"
    }
  ]
}
```

## Import

Whitelist can be imported using the domain ID:

```shell
terraform import qrator_domain_whitelist.example 12345
```

After import, run `terraform plan` to see the current state read from the API.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `domain_id` (Number) The domain ID. Changing this forces resource replacement.
- `entries` (List of Object) IP entries in the whitelist.

### Nested Schema for `entries`

Required:

- `ip` (String) IP address (e.g. `203.0.113.10`).

Optional:

- `ttl` (Number) Time to live in seconds. `0` means permanent. Defaults to `0`.
- `comment` (String) Optional comment. Defaults to `""`.

## Validation Rules

- No duplicate IP addresses.
